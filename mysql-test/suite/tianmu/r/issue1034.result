drop database if exists issue1034;
create database issue1034;
use issue1034;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id int, name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
CREATE TABLE t1 (id int, name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=INPLACE;
ERROR 0A000: ALGORITHM=INPLACE is not supported for this operation. Try ALGORITHM=COPY.
DROP TABLE t1;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id int, name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
CREATE TABLE t1 (id int, name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=INPLACE;
ERROR 0A000: ALGORITHM=INPLACE is not supported for this operation. Try ALGORITHM=COPY.
DROP TABLE t1;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id int PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id int, name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
CREATE TABLE t1 (id int, name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=INPLACE;
ERROR 0A000: ALGORITHM=INPLACE is not supported for this operation. Try ALGORITHM=COPY.
DROP TABLE t1;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255), name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255), name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id), ALGORITHM=INPLACE;
ERROR 0A000: ALGORITHM=INPLACE is not supported for this operation. Try ALGORITHM=COPY.
DROP TABLE t1;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE USING BTREE, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the BTREE index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255), name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255), name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING BTREE, ALGORITHM=INPLACE;
ERROR 0A000: ALGORITHM=INPLACE is not supported for this operation. Try ALGORITHM=COPY.
DROP TABLE t1;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
set global tianmu_index_search=off;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=DEFAULT;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
Warnings:
Note	1051	Unknown table 'issue1034.t1'
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
set global tianmu_index_search=on;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE IF EXISTS t1;
CREATE TABLE t1 (id VARCHAR(255) PRIMARY KEY) ENGINE=TIANMU;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH USING HASH, ALGORITHM=COPY;
Warnings:
Note	3502	This storage engine does not support the HASH index algorithm, storage engine default was used instead.
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255), name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=DEFAULT;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=DEFAULT;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255), name VARCHAR(255), age int) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id,name), ALGORITHM=COPY;
ALTER TABLE t1 DROP PRIMARY KEY, ALGORITHM=COPY;
DROP TABLE t1;
CREATE TABLE t1 (id VARCHAR(255)) ENGINE=TIANMU;
ALTER TABLE t1 ADD PRIMARY KEY(id) USING HASH, ALGORITHM=INPLACE;
ERROR 0A000: ALGORITHM=INPLACE is not supported for this operation. Try ALGORITHM=COPY.
DROP TABLE t1;
drop database issue1034;
